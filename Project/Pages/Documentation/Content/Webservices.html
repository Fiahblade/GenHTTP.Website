<section class="section-margin">

    <div class="container">

        <div class="row">

            <h2 class="contact-title">Webservices</h2>

            <div class="col-12">

                <p>
                    The resource router shipped with the <a href="https://www.nuget.org/packages/GenHTTP.Modules.Webservices/">GenHTTP.Webservices</a>
                    module allows to easily implement RESTful services. The
                    concept is very similar to popular webservice frameworks
                    such as <a href="https://github.com/jax-rs">JAX-RS</a>:

                    <pre><code class="csharp">public class BookResource
{

    [Method]
    public List&lt;Book&gt; GetBooks(int page, int pageSize) { /* ... */ }

    [Method(":id")]
    public Book? GetBook(int id) { /* ... */ }

    [Method(RequestMethod.PUT)]
    public Book AddBook(Book book) { /* ... */ }
                        
    [Method(RequestMethod.POST)]
    public Book UpdateBook(Book book) { /* ... */ }

    [Method(RequestMethod.DELETE, ":id")]
    public Book? DeleteBook(int id) { /* ... */ }

}

var service = Layout.Create().Add&lt;BookResource&gt;("books");

var server = Server.Create().Router(service).Build();</code></pre>

                    The service will be available at <a href="http://localhost:8080/books">http://localhost:8080/books</a>.
                    As the functionality is provided on router level,
                    all other concerns such as authentication or CORS can
                    be implemented using regular server mechanisms. 

                </p>

                <p>

                    The implementation supports all typical features such as
                    serialization and deserialization of complex types, simple
                    types, enums, streams, raw <i>IRequest</i> and <i>IResponseBuilder</i>
                    arguments, query parameters, path parameters or exception handling:

                    <pre><code class="csharp">[Method(RequestMethod.PUT)]
public Stream Stream(Stream input) { /* ... */ }

[Method]
public IResponseBuilder RequestResponse(IRequest request) { return request.Respond() /* ... */; }

[Method]
public void Exception() => throw new ProviderException(ResponseStatus.AlreadyReported, "Already reported!");</code></pre>

                </p>

                <p>

                    By default, resources will consume and produce JSON and XML entities. To
                    customize this behavior, add a custom <i>ISerializationFormat</i>
                    implementation to the serialization registry used within your resources:

                    <pre><code class="csharp">var registry = Serialization.Default().Add(new FlexibleContentType("application/protobuf"), new ProtobufFormat());

var resource = Resource.From&lt;BookResource&gt;().Formats(registry);

var service = Layout.Create().Add("books", resource);</code></pre>

                </p>
                
            </div>

        </div>

    </div>

</section>
