<section class="section-margin">

    <div class="container">

        <div class="row">

            <h2 class="contact-title">Load Balancer</h2>

            <div class="col-12">

                <p>

                    Allows to distribute incoming requests to multiple nodes, either by using
                    a reverse proxy or by redirecting the client.

                    <pre><code class="csharp">var workers = LoadBalancer.Create()
                          .Proxy("http://worker-1")
                          .Proxy("http://worker-2");

var cdn = LoadBalancer.Create()
                      .Redirect("https://cdn1.domain.com")
                      .Redirect("https://cdn2.domain.com");

var app = Layout.Create()
                .Add("api", workers)
                .Add("content", cdn);
</code></pre>

                    If needed, the incoming request can get analyzed to determine the nodes with
                    the highest priority that should handle the request (e.g. to prefer nodes
                    near to the requesting client).

                    <pre><code class="csharp">LoadBalancer.Create().Proxy(..., (r) => Priority.High);</code></pre>

                    Additionally, the builder accepts any <i>IHandler</i> instance as a node, allowing
                    to extend the functionality where needed. For example, the following snippet would
                    distribute the load to two different drives.

                    <pre><code class="csharp">LoadBalancer.Create()
            .Add(Static.Files("/mnt/storage1/files/"))
            .Add(Static.Files("/mnt/storage2/files/"));</code></pre>

                </p>

            </div>

        </div>

    </div>

</section>
