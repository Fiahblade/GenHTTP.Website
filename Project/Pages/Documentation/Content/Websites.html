<section class="section-margin">

    <div class="container">

        <div class="row">

            <h2 class="contact-title">Websites</h2>

            <div class="col-12">

                <p>

                    The website handler allows your to create themed web applications in a simple manner.
                    The following code snippet will start a very basic web application with two pages:

                    <pre><code class="csharp">var project = Layout.Create()
                    .Index(Page.From("Home", "Hello World!"))
                    .Add("legal", Page.From("Legal", "This is the legal page"));

var website = Website.Create()
                     .Theme(Theme.Create())
                     .Content(project);
                        
Host.Create()
    .Defaults()
    .Console()
    .Handler(website)
    .Run();</code></pre>

                    After starting the project, you can access the web application by entering http://localhost:8080
                    in the address line of your browser.

                </p>

            </div>

        </div>

        <div class="row">

            <h2 class="contact-title">Themes</h2>

            <div class="col-12">

                <p>

                    The GenHTTP SDK ships with some
                    <a href="https://github.com/Kaliumhexacyanoferrat/GenHTTP.Themes">default themes</a> that can be used with the website handler.

                </p>


                <p>

                    After installing the theme you would like to use, configure and pass a theme instance to the Website builder:

                    <pre><code class="csharp">var theme = Theme.Create()
                 .Title("Website Title");

var website = Website.Create()
                     .Content(...)
                     .Theme(theme);</code></pre>

                </p>

                <p>

                    Depending on the theme, there will be different features availabe for configuration (such as footer menus or social buttons).

                </p>

                <p>

                    To provide a custom theme, you will need to implement the
                    <a href="https://github.com/Kaliumhexacyanoferrat/GenHTTP/blob/master/API/GenHTTP.API/Content/Websites/ITheme.cs">ITheme</a> interface.

                    The main component of every theme is the template that is used to embed the generated pages into. The template can be rendered
                    using a templating engine of your choice. For a Scriban-based example, see the
                    <a href="https://github.com/Kaliumhexacyanoferrat/GenHTTP.Themes/blob/master/Lorahost/Template.html">template of the Lorahost theme</a>.

                </p>

            </div>

        </div>

        <div class="row">

            <h2 class="contact-title">Adding Pages</h2>

            <div class="col-12">

                <p>

                    To add your pages to the web application, there are two different template languages available
                    to be used: <a href="https://www.nuget.org/packages/GenHTTP.Modules.Scriban/">Scriban</a>
                    and <a href="https://www.nuget.org/packages/GenHTTP.Modules.Razor/">Razor</a>.

                </p>

                <p>

                    Create a new HTML file within the tree of your project and mark it either as an embedded resource
                    or as content that will be copied to the output directory of your project. The page can the be
                    added using the appropriate module:

                    <pre><code class="csharp">website.Add("shop", ModScriban.Page(Data.FromResource("Shop.html"))); // or ModRazor.Page()</code></pre>

                    This will load the given Scriban template from the specified resource and render it to the
                    requesting client, if http://localhost:8080/shop is called.

                </p>

                <p>

                    You may provide a custom model used to render your pages based on the current request
                    by providing a factory method:

                    <pre><code class="csharp">public class ShopModel : PageModel
{

    public Basket Basket { get; }

    public ShopModel(IRequest request, IHandler handler, Basket basket) : base(request, handler)
    {
        Basket = basket;
    }
                        
}

// within the template, "basket" will be available as a Scriban property 
website.Add("shop", ModScriban.Page(Data.FromFile("./Shop.html"), (request, handler) => new ShopModel(request, handler, LoadBasket())));</code></pre>

                </p>

            </div>

        </div>

        <div class="row">

            <h2 class="contact-title">Routing</h2>

            <div class="col-12">

                <p>

                    Within your pages, you can access the routing context to generate relative paths
                    to other pages or parts of your web application. Example:

                    <pre><code class="html">&lt;a href="{%{{{ route 'sitemap.xml' }}}%}"&gt;Sitemap&lt;/a&gt; &lt;!-- Scriban --&gt;</code></pre>

                    <pre><code class="html">&lt;a href="@Model.Route("sitemap.xml")"&gt;Sitemap&lt;/a&gt; &lt;!-- Razor --&gt;</code></pre>

                    The routing mechanism will automatically find the responsible handler for the requested
                    route within the handler hierarchy and generate an URL that can be used by the
                    browser to navigate to this location.

                </p>

                <p>

                    Some handlers may provide symbolic routes that can be used to access the requested content.
                    For example, the layout handler exposes the symbolic routes <i>{index}</i> and <i>{fallback}</i>
                    and the website handler exposes <i>{website}</i> to navigate to the root of the website.

                </p>

            </div>

        </div>

    </div>

</section>
