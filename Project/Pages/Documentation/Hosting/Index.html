<section class="section-margin">

    <div class="container">

        <div class="row">
            
            <h2 class="contact-title">Hosting with Docker</h2>

            <div class="col-12">

                <p>
                    <a href="https://www.docker.com/">Docker</a> is the preferred way to host
                    web applications created with the GenHTTP application framework. .NET Core allows
                    to create images for various platforms. For a list of available base images,
                    see their <a href="https://hub.docker.com/_/microsoft-dotnet-core-sdk/">Docker Hub</a> page.
                </p>

                <p>
                    To create an image for your web application, create a new file named <i>Dockerfile</i> in the
                    root directory of your repository. The following example is for an x64 image
                    running on Linux:

                    <pre><code class="dockerfile">FROM mcr.microsoft.com/dotnet/core/sdk:3.0-alpine AS build
WORKDIR /app

# copy csproj and restore as distinct layers
COPY Project/*.csproj ./project/
WORKDIR /app/project
RUN dotnet restore

# copy and build app and libraries
WORKDIR /app/
COPY Project/. ./project/
WORKDIR /app/project
RUN dotnet publish -c Release -r linux-musl-x64 -o out --self-contained true /p:PublishTrimmed=true

FROM mcr.microsoft.com/dotnet/core/runtime-deps:3.0-alpine AS runtime
WORKDIR /app
COPY --from=build /app/project/out ./
ENTRYPOINT ["./Project"]

EXPOSE 8080</code></pre>

                    To build this docker image, run:

                    <pre><code class="bash">sudo docker build -t project -f Dockerfile .</code></pre>

                    This will create a new image named <i>project</i>. To run a new container
                    with this image, execute the following command:

                    <pre><code class="bash">sudo docker run -d -p 8080:8080 project</code></pre>

                    You should now be able to access the application via http://localhost:8080.

                </p>

            </div>

        </div>

    </div>

</section>
